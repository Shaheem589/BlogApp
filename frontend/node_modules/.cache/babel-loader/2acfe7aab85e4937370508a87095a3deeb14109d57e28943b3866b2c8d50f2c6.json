{"ast":null,"code":"import{useEffect,useState}from'react';import{Grid,Box}from'@mui/material';import{Link,useSearchParams}from'react-router-dom';// import { getAllPosts } from '../../../service/api';\nimport{API}from'../../../service/api';//components\nimport Post from'./Post';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const Posts=()=>{const[posts,getPosts]=useState([]);const[searchParams]=useSearchParams();const category=searchParams.get('category');useEffect(()=>{const fetchData=async()=>{try{let response=await API.getAllPosts({category:category||''});if(response.isSuccess){getPosts(response.data);}else{console.error('API call was successful, but response indicates an error:',response);}}catch(error){console.error('Error fetching data:',error);}};fetchData();},[category]);return/*#__PURE__*/_jsx(_Fragment,{children:posts!==null&&posts!==void 0&&posts.length?posts.map(post=>/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:4,xs:12,children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'inherit'},to:\"details/\".concat(post._id),children:/*#__PURE__*/_jsx(Post,{post:post})})})):/*#__PURE__*/_jsx(Box,{style:{color:'878787',margin:'30px 80px',fontSize:18},children:\"No data is available for selected category\"})});};export default Posts;","map":{"version":3,"names":["useEffect","useState","Grid","Box","Link","useSearchParams","API","Post","jsx","_jsx","Fragment","_Fragment","Posts","posts","getPosts","searchParams","category","get","fetchData","response","getAllPosts","isSuccess","data","console","error","children","length","map","post","item","lg","sm","xs","style","textDecoration","color","to","concat","_id","margin","fontSize"],"sources":["C:/Users/shahe/OneDrive/Documents/GitHub/BlogApp/frontend/src/components/Home/post/Posts.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\n\r\nimport { Grid, Box } from '@mui/material';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\n\r\n// import { getAllPosts } from '../../../service/api';\r\nimport { API } from '../../../service/api';\r\n\r\n//components\r\nimport Post from './Post';\r\n\r\nconst Posts = () => {\r\n    const [posts, getPosts] = useState([]);\r\n    \r\n    const [searchParams] = useSearchParams();\r\n    const category = searchParams.get('category');\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                let response = await API.getAllPosts({ category: category || '' });\r\n                if (response.isSuccess) {\r\n                    getPosts(response.data);\r\n                } else {\r\n                    console.error('API call was successful, but response indicates an error:', response);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [category]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                posts?.length ? posts.map(post => (\r\n                    <Grid item lg={3} sm={4} xs={12}>\r\n                        <Link style={{textDecoration: 'none', color: 'inherit'}} to={`details/${post._id}`}>\r\n                            <Post post={ post } />\r\n                        </Link>\r\n                    </Grid>\r\n                )) : <Box style={{color: '878787', margin: '30px 80px', fontSize: 18}}>\r\n                        No data is available for selected category\r\n                    </Box>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Posts;"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,OAASC,IAAI,CAAEC,GAAG,KAAQ,eAAe,CACzC,OAASC,IAAI,CAAEC,eAAe,KAAQ,kBAAkB,CAExD;AACA,OAASC,GAAG,KAAQ,sBAAsB,CAE1C;AACA,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1B,KAAM,CAAAC,KAAK,CAAGA,CAAA,GAAM,CAChB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAACc,YAAY,CAAC,CAAGV,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAW,QAAQ,CAAGD,YAAY,CAACE,GAAG,CAAC,UAAU,CAAC,CAE7CjB,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAkB,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,GAAI,CAAAC,QAAQ,CAAG,KAAM,CAAAb,GAAG,CAACc,WAAW,CAAC,CAAEJ,QAAQ,CAAEA,QAAQ,EAAI,EAAG,CAAC,CAAC,CAClE,GAAIG,QAAQ,CAACE,SAAS,CAAE,CACpBP,QAAQ,CAACK,QAAQ,CAACG,IAAI,CAAC,CAC3B,CAAC,IAAM,CACHC,OAAO,CAACC,KAAK,CAAC,2DAA2D,CAAEL,QAAQ,CAAC,CACxF,CACJ,CAAE,MAAOK,KAAK,CAAE,CACZD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAChD,CACJ,CAAC,CACDN,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,mBACIP,IAAA,CAAAE,SAAA,EAAAc,QAAA,CAEQZ,KAAK,SAALA,KAAK,WAALA,KAAK,CAAEa,MAAM,CAAGb,KAAK,CAACc,GAAG,CAACC,IAAI,eAC1BnB,IAAA,CAACP,IAAI,EAAC2B,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAP,QAAA,cAC5BhB,IAAA,CAACL,IAAI,EAAC6B,KAAK,CAAE,CAACC,cAAc,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAS,CAAE,CAACC,EAAE,YAAAC,MAAA,CAAaT,IAAI,CAACU,GAAG,CAAG,CAAAb,QAAA,cAC/EhB,IAAA,CAACF,IAAI,EAACqB,IAAI,CAAGA,IAAM,CAAE,CAAC,CACpB,CAAC,CACL,CACT,CAAC,cAAGnB,IAAA,CAACN,GAAG,EAAC8B,KAAK,CAAE,CAACE,KAAK,CAAE,QAAQ,CAAEI,MAAM,CAAE,WAAW,CAAEC,QAAQ,CAAE,EAAE,CAAE,CAAAf,QAAA,CAAC,4CAEnE,CAAK,CAAC,CAEhB,CAAC,CAEX,CAAC,CAED,cAAe,CAAAb,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}