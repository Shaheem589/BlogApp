{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/shahe/OneDrive/Documents/GitHub/BlogApp/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject,_templateObject2,_templateObject3;import{useState,useEffect,useContext}from'react';import{Box,Typography,styled}from'@mui/material';import{Delete,Edit}from'@mui/icons-material';import{Link,useNavigate,useParams}from'react-router-dom';import{API}from'../../service/api';import{DataContext}from'../../context/DataProvider';import Comments from'./comments/Comments';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const Container=styled(Box)(_ref=>{let{theme}=_ref;return{margin:'50px 100px',[theme.breakpoints.down('md')]:{margin:0}};});const Image=styled('img')({width:'100%',height:'50vh',objectFit:'cover'});const EditIcon=styled(Edit)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    margin: 5px;\\n    padding: 5px;\\n    border: 1px solid #878787;\\n    border-radius: 10px;\\n\"])));const DeleteIcon=styled(Delete)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    margin: 5px;\\n    padding: 5px;\\n    border: 1px solid #878787;\\n    border-radius: 10px;\\n\"])));const Heading=styled(Typography)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    font-size: 38px;\\n    font-weight: 600;\\n    text-align: center;\\n    margin: 50px 0 10px 0;\\n\"])));const Author=styled(Box)(_ref2=>{let{theme}=_ref2;return{color:'#878787',display:'flex',margin:'20px 0',[theme.breakpoints.down('sm')]:{display:'block'}};});const DetailView=()=>{const url='https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';const[post,setPost]=useState({});const{account}=useContext(DataContext);const navigate=useNavigate();const{id}=useParams();useEffect(()=>{const fetchData=async()=>{try{let response=await API.getPostById(id);if(response.isSuccess){setPost(response.data);}else{console.error('API call was successful, but response indicates an error:',response);}}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);const deleteBlog=async()=>{await API.deletePost(post._id);navigate('/');};return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(Image,{src:post.picture||url,alt:\"post\"}),/*#__PURE__*/_jsx(Box,{style:{float:'right'},children:account.username===post.username&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:\"/update/\".concat(post._id),children:/*#__PURE__*/_jsx(EditIcon,{color:\"primary\"})}),/*#__PURE__*/_jsx(DeleteIcon,{onClick:()=>deleteBlog(),color:\"error\"})]})}),/*#__PURE__*/_jsx(Heading,{children:post.title}),/*#__PURE__*/_jsxs(Author,{children:[/*#__PURE__*/_jsx(Link,{to:\"/?username=\".concat(post.username),style:{textDecoration:'none',color:'inherit'},children:/*#__PURE__*/_jsxs(Typography,{children:[\"Author: \",/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:600},children:post.username})]})}),/*#__PURE__*/_jsx(Typography,{style:{marginLeft:'auto'},children:new Date(post.createdDate).toDateString()})]}),/*#__PURE__*/_jsx(Typography,{children:post.description}),/*#__PURE__*/_jsx(Comments,{post:post})]});};export default DetailView;","map":{"version":3,"names":["useState","useEffect","useContext","Box","Typography","styled","Delete","Edit","Link","useNavigate","useParams","API","DataContext","Comments","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Container","_ref","theme","margin","breakpoints","down","Image","width","height","objectFit","EditIcon","_templateObject","_taggedTemplateLiteral","DeleteIcon","_templateObject2","Heading","_templateObject3","Author","_ref2","color","display","DetailView","url","post","setPost","account","navigate","id","fetchData","response","getPostById","isSuccess","data","console","error","deleteBlog","deletePost","_id","children","src","picture","alt","style","float","username","to","concat","onClick","title","textDecoration","fontWeight","marginLeft","Date","createdDate","toDateString","description"],"sources":["C:/Users/shahe/OneDrive/Documents/GitHub/BlogApp/frontend/src/components/details/DetailView.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\n\r\nimport { Box, Typography, styled } from '@mui/material';\r\nimport { Delete, Edit } from '@mui/icons-material';\r\nimport { Link, useNavigate, useParams } from 'react-router-dom'\r\n\r\nimport { API } from '../../service/api';\r\n\r\nimport { DataContext } from '../../context/DataProvider';\r\nimport Comments from './comments/Comments';\r\n\r\nconst Container = styled(Box)(({ theme }) => ({\r\n    margin: '50px 100px',\r\n    [theme.breakpoints.down('md')]: {\r\n        margin: 0\r\n    },\r\n}));\r\n\r\nconst Image = styled('img')({\r\n    width: '100%',\r\n    height: '50vh',\r\n    objectFit: 'cover'\r\n});\r\n\r\nconst EditIcon = styled(Edit)`\r\n    margin: 5px;\r\n    padding: 5px;\r\n    border: 1px solid #878787;\r\n    border-radius: 10px;\r\n`;\r\n\r\nconst DeleteIcon = styled(Delete)`\r\n    margin: 5px;\r\n    padding: 5px;\r\n    border: 1px solid #878787;\r\n    border-radius: 10px;\r\n`;\r\n\r\nconst Heading = styled(Typography)`\r\n    font-size: 38px;\r\n    font-weight: 600;\r\n    text-align: center;\r\n    margin: 50px 0 10px 0;\r\n`;\r\n\r\nconst Author = styled(Box)(({ theme }) => ({\r\n    color: '#878787',\r\n    display: 'flex',\r\n    margin: '20px 0',\r\n    [theme.breakpoints.down('sm')]: {\r\n        display: 'block'\r\n    },\r\n}));\r\n\r\nconst DetailView = () => {\r\n    const url = 'https://images.unsplash.com/photo-1543128639-4cb7e6eeef1b?ixid=MnwxMjA3fDB8MHxzZWFyY2h8Mnx8bGFwdG9wJTIwc2V0dXB8ZW58MHx8MHx8&ixlib=rb-1.2.1&w=1000&q=80';\r\n    \r\n    const [post, setPost] = useState({});\r\n    const { account } = useContext(DataContext);\r\n\r\n    const navigate = useNavigate();\r\n    const { id } = useParams();\r\n    \r\n    useEffect(() => {\r\n        const fetchData = async () => {\r\n            try {\r\n                let response = await API.getPostById(id);\r\n                if (response.isSuccess) {\r\n                    setPost(response.data);\r\n                } else {\r\n                    console.error('API call was successful, but response indicates an error:', response);\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching data:', error);\r\n            }\r\n        };        \r\n        fetchData();\r\n        \r\n    }, []);\r\n\r\n    const deleteBlog = async () => {  \r\n        await API.deletePost(post._id);\r\n        navigate('/')\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Image src={post.picture || url} alt=\"post\" />\r\n            <Box style={{ float: 'right' }}>\r\n                {   \r\n                    account.username === post.username && \r\n                    <>  \r\n                        <Link to={`/update/${post._id}`}><EditIcon color=\"primary\" /></Link>\r\n                        <DeleteIcon onClick={() => deleteBlog()} color=\"error\" />\r\n                    </>\r\n                }\r\n            </Box>\r\n            <Heading>{post.title}</Heading>\r\n\r\n            <Author>\r\n                <Link to={`/?username=${post.username}`} style={{ textDecoration: 'none', color: 'inherit' }}>\r\n                    <Typography>Author: <span style={{fontWeight: 600}}>{post.username}</span></Typography>\r\n                </Link>\r\n                <Typography style={{marginLeft: 'auto'}}>{new Date(post.createdDate).toDateString()}</Typography>\r\n            </Author>\r\n\r\n            <Typography>{post.description}</Typography>\r\n            <Comments post={post}/>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default DetailView;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}